<!-- vision_projects.html -->
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Vision-Based Transit Analytics ‚Äî Research Portfolio</title>
<link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=DM+Sans:ital,wght@0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #06090f;
  --surface: #0d1320;
  --surface-alt: #111c2e;
  --surface-raised: #162032;
  --border: #1a2640;
  --border-light: #243352;
  --text: #e4eaf2;
  --text-dim: #a0b4cc;
  --text-muted: #5e7a9a;
  --cyan: #38bdf8;
  --cyan-glow: rgba(56,189,248,0.08);
  --green: #34d399;
  --green-glow: rgba(52,211,153,0.08);
  --purple: #a78bfa;
  --purple-glow: rgba(167,139,250,0.08);
  --orange: #fb923c;
  --orange-glow: rgba(251,146,60,0.08);
  --red: #f87171;
  --red-glow: rgba(248,113,113,0.06);
  --pink: #f472b6;
  --yellow: #fbbf24;
}

* { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }

body {
  background: var(--bg);
  color: var(--text);
  font-family: 'DM Sans', sans-serif;
  overflow-x: hidden;
  line-height: 1.7;
  -webkit-font-smoothing: antialiased;
}

::-webkit-scrollbar { width: 5px; }
::-webkit-scrollbar-track { background: var(--bg); }
::-webkit-scrollbar-thumb { background: var(--border); border-radius: 3px; }

/* ‚îÄ‚îÄ‚îÄ GRAIN ‚îÄ‚îÄ‚îÄ */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.03'/%3E%3C/svg%3E");
  pointer-events: none;
  z-index: 9999;
}

/* ‚îÄ‚îÄ‚îÄ NAVIGATION ‚îÄ‚îÄ‚îÄ */
.stage-nav {
  display: flex;
  justify-content: center;
  gap: 4px;
  padding: 16px 20px 12px;
  position: sticky;
  top: 0;
  z-index: 100;
  background: linear-gradient(180deg, var(--bg) 70%, transparent);
  flex-wrap: wrap;
}
.stage-btn {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.88rem;
  font-weight: 700;
  padding: 9px 16px;
  border: 1px solid var(--border);
  background: var(--surface);
  color: var(--text-dim);
  border-radius: 6px;
  cursor: pointer;
  transition: all 0.3s;
  letter-spacing: 0.5px;
  text-decoration: none;
  display: inline-flex;
  align-items: center;
  gap: 6px;
}
.stage-btn:hover { border-color: var(--cyan); color: var(--text); }
.stage-btn.active {
  background: var(--cyan-glow);
  border-color: var(--cyan);
  color: var(--cyan);
  box-shadow: 0 0 20px rgba(56,189,248,0.08);
}
.stage-btn.home-btn {
  background: var(--surface-alt);
  border-color: var(--border-light);
  color: var(--text-dim);
}
.stage-btn.home-btn:hover {
  border-color: var(--green);
  color: var(--green);
  background: var(--green-glow);
}

/* ‚îÄ‚îÄ‚îÄ HERO ‚îÄ‚îÄ‚îÄ */
.hero {
  text-align: center;
  padding: 70px 24px 50px;
  position: relative;
  overflow: hidden;
}
.hero::before {
  content: '';
  position: absolute;
  inset: 0;
  background:
    radial-gradient(ellipse 70% 50% at 30% 40%, rgba(56,189,248,0.04), transparent),
    radial-gradient(ellipse 50% 40% at 70% 60%, rgba(167,139,250,0.03), transparent);
  pointer-events: none;
}
.hero::after {
  content: '';
  position: absolute;
  inset: 0;
  background-image:
    linear-gradient(rgba(56,189,248,0.02) 1px, transparent 1px),
    linear-gradient(90deg, rgba(56,189,248,0.02) 1px, transparent 1px);
  background-size: 60px 60px;
  mask-image: radial-gradient(ellipse 60% 50% at 50% 50%, black 20%, transparent 70%);
  pointer-events: none;
}
.hero-content { position: relative; }

.hero .badge {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem;
  letter-spacing: 2px;
  text-transform: uppercase;
  color: var(--cyan);
  background: var(--cyan-glow);
  border: 1px solid rgba(56,189,248,0.15);
  padding: 6px 16px;
  border-radius: 4px;
  display: inline-block;
  margin-bottom: 20px;
  opacity: 0;
  animation: fadeIn 0.6s 0.1s ease forwards;
}

.hero h1 {
  font-family: 'JetBrains Mono', monospace;
  font-size: clamp(1.8rem, 4.5vw, 3rem);
  font-weight: 700;
  letter-spacing: -1.5px;
  line-height: 1.15;
  margin-bottom: 16px;
  opacity: 0;
  animation: fadeUp 0.6s 0.2s ease forwards;
}
.hero h1 .accent { color: var(--cyan); }

.hero-tagline {
  font-size: 1.15rem;
  color: var(--text-dim);
  max-width: 640px;
  margin: 0 auto 30px;
  line-height: 1.75;
  opacity: 0;
  animation: fadeUp 0.6s 0.35s ease forwards;
}

/* Challenge pills */
.challenge-row {
  display: flex;
  flex-wrap: wrap;
  gap: 6px;
  justify-content: center;
  margin-bottom: 10px;
  opacity: 0;
  animation: fadeUp 0.6s 0.5s ease forwards;
}
.pill {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  letter-spacing: 0.5px;
  padding: 5px 12px;
  border-radius: 20px;
  border: 1px solid var(--border);
  color: var(--text-dim);
  background: var(--surface);
}
.pill.hot { border-color: rgba(248,113,113,0.3); color: var(--red); background: var(--red-glow); }
.pill.warn { border-color: rgba(251,191,36,0.3); color: var(--yellow); background: rgba(251,191,36,0.06); }

/* ‚îÄ‚îÄ‚îÄ PROJECT CARDS (Hero grid) ‚îÄ‚îÄ‚îÄ */
.project-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  max-width: 920px;
  margin: 36px auto 0;
  padding: 0 20px;
  opacity: 0;
  animation: fadeUp 0.6s 0.65s ease forwards;
}
@media (max-width: 800px) { .project-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 500px) { .project-grid { grid-template-columns: 1fr; } }

.project-card {
  padding: 18px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--surface);
  cursor: pointer;
  transition: all 0.3s;
  position: relative;
  overflow: hidden;
  text-align: left;
}
.project-card::before {
  content: '';
  position: absolute;
  top: 0; left: 0; right: 0;
  height: 3px;
  border-radius: 10px 10px 0 0;
}
.project-card:hover {
  border-color: var(--border-light);
  transform: translateY(-2px);
  box-shadow: 0 10px 30px rgba(0,0,0,0.25);
}

.project-card[data-c="cyan"]::before { background: var(--cyan); }
.project-card[data-c="cyan"]:hover { border-color: rgba(56,189,248,0.3); }
.project-card[data-c="purple"]::before { background: var(--purple); }
.project-card[data-c="purple"]:hover { border-color: rgba(167,139,250,0.3); }
.project-card[data-c="green"]::before { background: var(--green); }
.project-card[data-c="green"]:hover { border-color: rgba(52,211,153,0.3); }
.project-card[data-c="orange"]::before { background: var(--orange); }
.project-card[data-c="orange"]:hover { border-color: rgba(251,146,60,0.3); }

.pc-num {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  letter-spacing: 1.5px;
  margin-bottom: 8px;
}
.project-card[data-c="cyan"] .pc-num { color: var(--cyan); }
.project-card[data-c="purple"] .pc-num { color: var(--purple); }
.project-card[data-c="green"] .pc-num { color: var(--green); }
.project-card[data-c="orange"] .pc-num { color: var(--orange); }

.pc-title {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  font-weight: 700;
  margin-bottom: 5px;
  color: var(--text);
  letter-spacing: -0.3px;
}
.pc-sub {
  font-size: 0.92rem;
  color: var(--text-dim);
  line-height: 1.5;
}
.pc-venue {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.62rem;
  margin-top: 10px;
  padding: 3px 8px;
  border-radius: 3px;
  display: inline-block;
}
.project-card[data-c="cyan"] .pc-venue { background: var(--cyan-glow); color: var(--cyan); }
.project-card[data-c="purple"] .pc-venue { background: var(--purple-glow); color: var(--purple); }
.project-card[data-c="green"] .pc-venue { background: var(--green-glow); color: var(--green); }
.project-card[data-c="orange"] .pc-venue { background: var(--orange-glow); color: var(--orange); }

/* ‚îÄ‚îÄ‚îÄ FLOW CONNECTOR ‚îÄ‚îÄ‚îÄ */
.flow-connector {
  display: flex;
  justify-content: center;
  padding: 20px 0;
}
.flow-arrow {
  width: 2px;
  height: 50px;
  background: linear-gradient(180deg, var(--cyan), transparent);
  position: relative;
}
.flow-arrow::after {
  content: '‚ñº';
  position: absolute;
  bottom: -12px;
  left: 50%;
  transform: translateX(-50%);
  color: var(--cyan);
  font-size: 10px;
}

/* ‚îÄ‚îÄ‚îÄ SECTION CARDS ‚îÄ‚îÄ‚îÄ */
.section-wrap {
  max-width: 920px;
  margin: 0 auto;
  padding: 0 20px;
}

.card {
  background: var(--surface);
  border: 1px solid var(--border);
  border-radius: 14px;
  overflow: hidden;
  transition: border-color 0.3s;
  margin-bottom: 8px;
}

.card-header {
  display: flex;
  align-items: center;
  gap: 14px;
  padding: 20px 24px;
  border-bottom: 1px solid var(--border);
}
.step-badge {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.72rem;
  font-weight: 700;
  padding: 5px 12px;
  border-radius: 5px;
  letter-spacing: 0.5px;
  white-space: nowrap;
  flex-shrink: 0;
}
.step-badge.cyan { background: var(--cyan-glow); color: var(--cyan); border: 1px solid rgba(56,189,248,0.2); }
.step-badge.purple { background: var(--purple-glow); color: var(--purple); border: 1px solid rgba(167,139,250,0.2); }
.step-badge.green { background: var(--green-glow); color: var(--green); border: 1px solid rgba(52,211,153,0.2); }
.step-badge.orange { background: var(--orange-glow); color: var(--orange); border: 1px solid rgba(251,146,60,0.2); }

.card-header h2 {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1.1rem;
  font-weight: 600;
  letter-spacing: -0.3px;
}

.card-body {
  padding: 24px;
}

.section-intro {
  font-size: 1.05rem;
  color: var(--text-dim);
  line-height: 1.75;
  max-width: 700px;
  margin-bottom: 24px;
}

/* ‚îÄ‚îÄ‚îÄ PIPELINE FLOW ‚îÄ‚îÄ‚îÄ */
.pipeline-flow {
  display: flex;
  align-items: center;
  gap: 0;
  overflow-x: auto;
  padding: 14px 0;
  margin: 10px 0;
}
.pipe-node {
  padding: 10px 14px;
  border-radius: 7px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.78rem;
  white-space: nowrap;
  text-align: center;
  border: 1px solid var(--border);
  background: var(--surface-alt);
  min-width: 70px;
  color: var(--text-dim);
  line-height: 1.4;
}
.pipe-arrow {
  font-size: 0.9rem;
  color: var(--text-muted);
  padding: 0 5px;
  flex-shrink: 0;
}
.pipe-node.hl-cyan { border-color: rgba(56,189,248,0.35); background: var(--cyan-glow); color: var(--cyan); }
.pipe-node.hl-red { border-color: rgba(248,113,113,0.35); background: var(--red-glow); color: var(--red); }
.pipe-node.hl-green { border-color: rgba(52,211,153,0.35); background: var(--green-glow); color: var(--green); }

/* ‚îÄ‚îÄ‚îÄ SIGNAL TABLE ‚îÄ‚îÄ‚îÄ */
.signal-table {
  width: 100%;
  border-collapse: collapse;
  margin: 16px 0;
  font-size: 0.95rem;
}
.signal-table th {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  color: var(--cyan);
  text-align: left;
  padding: 10px 12px;
  border-bottom: 2px solid var(--border);
  background: var(--surface-alt);
}
.signal-table td {
  padding: 10px 12px;
  border-bottom: 1px solid var(--border);
  color: var(--text-dim);
}
.signal-table tr:hover td { color: var(--text); background: rgba(56,189,248,0.02); }
.weight-bar {
  display: inline-block;
  height: 5px;
  border-radius: 3px;
  background: var(--cyan);
  margin-right: 6px;
  vertical-align: middle;
}

/* ‚îÄ‚îÄ‚îÄ SUB-LABEL ‚îÄ‚îÄ‚îÄ */
.sub-label {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.78rem;
  letter-spacing: 1px;
  text-transform: uppercase;
  margin: 24px 0 12px;
}

/* ‚îÄ‚îÄ‚îÄ FEATURE GRID ‚îÄ‚îÄ‚îÄ */
.feature-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 10px;
  margin: 16px 0;
}
@media (max-width: 700px) { .feature-grid { grid-template-columns: 1fr; } }

.feature-card {
  padding: 16px;
  border-radius: 8px;
  border: 1px solid var(--border);
  background: var(--surface-alt);
}
.fc-icon { font-size: 1.3rem; margin-bottom: 8px; }
.fc-title {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.82rem;
  font-weight: 600;
  margin-bottom: 5px;
  color: var(--text);
}
.fc-desc {
  font-size: 0.92rem;
  color: var(--text-dim);
  line-height: 1.6;
}

/* ‚îÄ‚îÄ‚îÄ ARCH DIAGRAM ‚îÄ‚îÄ‚îÄ */
.arch-diagram {
  background: var(--bg);
  border: 1px solid var(--border);
  border-radius: 10px;
  padding: 24px;
  margin: 16px 0;
  overflow-x: auto;
}
.arch-diagram svg { display: block; margin: 0 auto; }

/* ‚îÄ‚îÄ‚îÄ TIER BLOCKS (Privacy) ‚îÄ‚îÄ‚îÄ */
.tier-stack {
  display: flex;
  flex-direction: column;
  gap: 2px;
  margin: 16px 0;
}
.tier-block {
  padding: 18px 20px;
  border-radius: 8px;
  border: 1px solid;
}
.tier-block .tier-num {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.68rem;
  font-weight: 700;
  letter-spacing: 1px;
  margin-bottom: 5px;
}
.tier-block .tier-title {
  font-family: 'JetBrains Mono', monospace;
  font-size: 1rem;
  font-weight: 600;
  margin-bottom: 5px;
}
.tier-block .tier-desc {
  font-size: 0.95rem;
  line-height: 1.6;
  color: var(--text-dim);
}
.tier-block .tier-tag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.62rem;
  padding: 3px 8px;
  border-radius: 3px;
  display: inline-block;
  margin-top: 8px;
}

.tier-1 { border-color: rgba(56,189,248,0.25); background: rgba(56,189,248,0.03); }
.tier-1 .tier-num, .tier-1 .tier-tag { color: var(--cyan); }
.tier-1 .tier-tag { background: var(--cyan-glow); }

.tier-2 { border-color: rgba(52,211,153,0.25); background: rgba(52,211,153,0.03); }
.tier-2 .tier-num, .tier-2 .tier-tag { color: var(--green); }
.tier-2 .tier-tag { background: var(--green-glow); }

.tier-3 { border-color: rgba(167,139,250,0.25); background: rgba(167,139,250,0.03); }
.tier-3 .tier-num, .tier-3 .tier-tag { color: var(--purple); }
.tier-3 .tier-tag { background: var(--purple-glow); }

.tier-connector {
  text-align: center;
  padding: 3px 0;
  color: var(--text-muted);
  font-size: 0.72rem;
}

/* ‚îÄ‚îÄ‚îÄ BLOCKED BADGE ‚îÄ‚îÄ‚îÄ */
.blocked-badge {
  display: inline-flex;
  align-items: center;
  gap: 5px;
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.7rem;
  font-weight: 700;
  color: var(--red);
  background: var(--red-glow);
  border: 1px solid rgba(248,113,113,0.25);
  padding: 6px 14px;
  border-radius: 5px;
  margin: 10px 0;
}

/* ‚îÄ‚îÄ‚îÄ THREAT GRID ‚îÄ‚îÄ‚îÄ */
.threat-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 10px;
  margin: 16px 0;
}
@media (max-width: 700px) { .threat-grid { grid-template-columns: 1fr 1fr; } }
@media (max-width: 450px) { .threat-grid { grid-template-columns: 1fr; } }

.threat-card {
  padding: 14px;
  border-radius: 8px;
  border: 1px solid rgba(248,113,113,0.15);
  background: var(--red-glow);
}
.threat-card.warn-card {
  border-color: rgba(251,146,60,0.15);
  background: var(--orange-glow);
}
.threat-card .fc-title { color: var(--red); }
.threat-card.warn-card .fc-title { color: var(--orange); }

/* ‚îÄ‚îÄ‚îÄ PLACEHOLDER ‚îÄ‚îÄ‚îÄ */
.placeholder-box {
  border: 2px dashed var(--border);
  border-radius: 10px;
  padding: 40px 24px;
  text-align: center;
  margin: 16px 0;
}
.ph-icon { font-size: 1.6rem; margin-bottom: 10px; opacity: 0.5; }
.ph-text { color: var(--text-muted); font-size: 1rem; }

/* ‚îÄ‚îÄ‚îÄ TTL MARKERS ‚îÄ‚îÄ‚îÄ */
.ttl-markers {
  display: flex;
  gap: 20px;
  margin-top: -4px;
  padding-left: 8px;
  justify-content: center;
}
.ttl-tag {
  font-family: 'JetBrains Mono', monospace;
  font-size: 0.65rem;
  color: var(--red);
  background: var(--red-glow);
  padding: 3px 8px;
  border-radius: 3px;
}

/* ‚îÄ‚îÄ‚îÄ LINK ‚îÄ‚îÄ‚îÄ */
.section-link {
  font-size: 1rem;
  color: var(--text-dim);
  line-height: 1.65;
  margin-top: 16px;
}
.section-link a {
  text-decoration: none;
  border-bottom: 1px dashed;
}

/* ‚îÄ‚îÄ‚îÄ FOOTER ‚îÄ‚îÄ‚îÄ */
.footer {
  text-align: center;
  padding: 50px 24px 36px;
  border-top: 1px solid var(--border);
  margin-top: 40px;
}
.footer p {
  font-size: 0.85rem;
  color: var(--text-muted);
  font-family: 'JetBrains Mono', monospace;
}

/* ‚îÄ‚îÄ‚îÄ ANIMATIONS ‚îÄ‚îÄ‚îÄ */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeUp { from { opacity: 0; transform: translateY(16px); } to { opacity: 1; transform: translateY(0); } }

.fade-in {
  opacity: 0;
  transform: translateY(24px);
  transition: opacity 0.6s ease, transform 0.6s ease;
}
.fade-in.visible {
  opacity: 1;
  transform: translateY(0);
}
</style>
</head>
<body>

<!-- ‚ïê‚ïê‚ïê NAVIGATION ‚ïê‚ïê‚ïê -->
<nav class="stage-nav">
  <a class="stage-btn home-btn" href="index.html">‚Üê HOME</a>
  <button class="stage-btn active" onclick="goToSection('overview')">OVERVIEW</button>
  <button class="stage-btn" onclick="goToSection('doorfuse')">DOORFUSE</button>
  <button class="stage-btn" onclick="goToSection('privacy')">PRIVACY</button>
  <button class="stage-btn" onclick="goToSection('digitaltwin')">3D COUNTING</button>
  <button class="stage-btn" onclick="goToSection('driver')">DRIVER</button>
</nav>

<!-- ‚ïê‚ïê‚ïê HERO ‚ïê‚ïê‚ïê -->
<div class="section-anchor" id="overview"></div>
<section class="hero">
  <div class="hero-content">
    <div class="badge">COMPUTER VISION ¬∑ TRANSIT ANALYTICS ¬∑ EAST AFRICA</div>

    <h1>Vision-Based Passenger<br>Counting for <span class="accent">Growing Economies</span></h1>

    <p class="hero-tagline">
      Accurate, privacy-preserving automatic passenger counting on public transit buses 
      in Nairobi and Kigali. Addressing real-world challenges ‚Äî severe occlusion, low-quality 
      dashcam footage, crowded informal boarding, and evolving data protection frameworks ‚Äî 
      through multi-modal detection, 3D counting, and architectural privacy guarantees.
    </p>

    <div class="challenge-row">
      <span class="pill hot">HEAVY OCCLUSION</span>
      <span class="pill hot">EXTREME BACKLIGHTING</span>
      <span class="pill warn">LOW-RES DASHCAM</span>
      <span class="pill warn">CROWDED BOARDING</span>
      <span class="pill">INFORMAL TRANSIT</span>
      <span class="pill">EDGE DEPLOYMENT</span>
      <span class="pill">NO FACE-LEVEL CUES</span>
    </div>

    <div class="project-grid">
      <div class="project-card" data-c="cyan" onclick="goToSection('doorfuse')">
        <div class="pc-num">PROJECT 01</div>
        <div class="pc-title">DOORFUSE</div>
        <div class="pc-sub">Weighted fusion counter with dual-head detection, ghost injection, and 5-signal scoring</div>
        <div class="pc-venue">COMPLETE</div>
      </div>

      <div class="project-card" data-c="green" onclick="goToSection('privacy')">
        <div class="pc-num">PROJECT 02</div>
        <div class="pc-title">Privacy-by-Arch</div>
        <div class="pc-sub">Three-tier framework: ephemeral edge, count-only contracts, DPA alignment</div>
        <div class="pc-venue">IN PROGRESS</div>
      </div>

      <div class="project-card" data-c="purple" onclick="goToSection('digitaltwin')">
        <div class="pc-num">PROJECT 03</div>
        <div class="pc-title">3D COUNTING</div>
        <div class="pc-sub">Homography-projected virtual bus with 3D counting plane at interior pole</div>
        <div class="pc-venue">IN PROGRESS</div>
      </div>

      <div class="project-card" data-c="orange" onclick="goToSection('driver')">
        <div class="pc-num">PROJECT 04</div>
        <div class="pc-title">Driver Behaviour</div>
        <div class="pc-sub">Anomaly detection in driving patterns using AnomalyClip on dashcam footage</div>
        <div class="pc-venue">IN PROGRESS</div>
      </div>
    </div>
  </div>
</section>


<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--          01 ‚Äî DOORFUSE                 -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="flow-connector"><div class="flow-arrow"></div></div>

<div class="section-anchor" id="doorfuse"></div>
<div class="section-wrap fade-in">
  <div class="card">
    <div class="card-header">
      <span class="step-badge cyan">PROJECT 01</span>
      <h2>DOORFUSE ‚Äî Weighted Fusion Passenger Counter</h2>
    </div>
    <div class="card-body">
      <p class="section-intro">
        A dual-head detection architecture that fuses body tracking, pose estimation, 
        head detection, and ReID embeddings through a 5-signal weighted scoring system. 
        Designed for the extreme conditions of East African public transit ‚Äî single-door 
        Nairobi matatus and dual-door Kigali buses.
      </p>

      <!-- Pipeline -->
      <div class="pipeline-flow">
        <div class="pipe-node">Camera<br><span style="font-size:0.6rem;color:var(--text-muted)">Side-mount</span></div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-cyan">YOLO<br>Detect</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-red">ReID<br>Embed</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node">Pose<br>Estimate</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node">Head<br>Detect</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-cyan">BoTSORT<br>Track</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-green">5-Signal<br>Score</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-green">Count</div>
      </div>

      <!-- Scoring table -->
      <div class="sub-label" style="color:var(--cyan)">WEIGHTED SCORING SIGNALS</div>
      <table class="signal-table">
        <thead>
          <tr><th>Signal</th><th>Weight</th><th>Source</th><th>Role</th></tr>
        </thead>
        <tbody>
          <tr>
            <td style="color:var(--text)">Trajectory</td>
            <td><span class="weight-bar" style="width:80px"></span>0.30</td>
            <td>Track history</td>
            <td>Primary ‚Äî crossing direction over time</td>
          </tr>
          <tr>
            <td style="color:var(--text)">Orientation</td>
            <td><span class="weight-bar" style="width:66px"></span>0.25</td>
            <td>Pose keypoints</td>
            <td>Shoulder geometry ‚Üí front/back/side</td>
          </tr>
          <tr>
            <td style="color:var(--text)">Biometric</td>
            <td><span class="weight-bar" style="width:52px"></span>0.20</td>
            <td>Head detector</td>
            <td>Anchor for occluded bodies</td>
          </tr>
          <tr>
            <td style="color:var(--text)">Motion</td>
            <td><span class="weight-bar" style="width:40px"></span>0.15</td>
            <td>Velocity vector</td>
            <td>Instantaneous movement confirmation</td>
          </tr>
          <tr>
            <td style="color:var(--text)">Consistency</td>
            <td><span class="weight-bar" style="width:26px"></span>0.10</td>
            <td>Path analysis</td>
            <td>Penalises oscillation / rewards smooth paths</td>
          </tr>
        </tbody>
      </table>

      <!-- Sub-systems -->
      <div class="sub-label" style="color:var(--cyan)">SUB-SYSTEMS</div>
      <div class="feature-grid">
        <div class="feature-card">
          <div class="fc-icon">üëª</div>
          <div class="fc-title">GHOST INJECTION</div>
          <div class="fc-desc">Hungarian algorithm matches orphaned head detections to lost tracks. Adaptive body/head ratios learned via EMA per-track.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">üõ°Ô∏è</div>
          <div class="fc-title">STAFF FILTER</div>
          <div class="fc-desc">Multi-signal detection: shoulder orientation ratio, position anchoring, pacing behaviour, and round-trip crossing patterns.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">üö®</div>
          <div class="fc-title">TOUT DETECTION</div>
          <div class="fc-desc">Fare-collector identification via re-entry count, engagement proximity, activity ratio, and long-stay thresholds.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">‚ö°</div>
          <div class="fc-title">TELEPORT GUARD</div>
          <div class="fc-desc">Motion predictor flags physically impossible jumps. ID repair manager freezes and validates suspect tracks.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">üö™</div>
          <div class="fc-title">DOOR STATE</div>
          <div class="fc-desc">YOLO-based door detection with hysteresis smoothing and crossing grace period for mid-transition events.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">üåç</div>
          <div class="fc-title">MULTI-CITY</div>
          <div class="fc-desc">Country-specific configs for Kenya (single-door, left-boarding) and Rwanda (dual-camera, up-boarding) deployments.</div>
        </div>
      </div>

      <p class="section-link">
        More details about the project and its performance can be found in the
        <a href="door_fuse.html" style="color:var(--cyan)">DoorFuse Project Page</a>.
      </p>
    </div>
  </div>
</div>


  
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--       02 ‚Äî PRIVACY-BY-ARCHITECTURE    -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="flow-connector"><div class="flow-arrow"></div></div>

<div class="section-anchor" id="privacy"></div>
<div class="section-wrap fade-in">
  <div class="card">
    <div class="card-header">
      <span class="step-badge green">PROJECT 02</span>
      <h2>Privacy-by-Architecture for Passenger Counting</h2>
    </div>
    <div class="card-body">
      <p class="section-intro">
        Modern APC pipelines are <em>de facto</em> soft biometric systems ‚Äî ReID embeddings, 
        pose keypoints, and appearance descriptors encode identity-bearing information. We 
        formalise the <strong>ReID‚Äìanonymisation paradox</strong> and propose a three-tier framework 
        that enforces privacy as an architectural constraint rather than a post-hoc filter.
      </p>

      <!-- Threats -->
      <div class="sub-label" style="color:var(--red)">THREAT VECTORS</div>
      <div class="threat-grid">
        <div class="threat-card">
          <div class="fc-title" style="color:var(--red)">A1: EMBEDDING</div>
          <div class="fc-desc">ReID vectors persist in buffers, caches, and debug logs beyond counting need</div>
        </div>
        <div class="threat-card">
          <div class="fc-title" style="color:var(--red)">A2: FABRICATION</div>
          <div class="fc-desc">Ghost injection creates biometric records for people who don't exist</div>
        </div>
        <div class="threat-card">
          <div class="fc-title" style="color:var(--red)">A3: METADATA</div>
          <div class="fc-desc">Stop-level counts + mobile money traces enable trajectory re-identification</div>
        </div>
        <div class="threat-card warn-card">
          <div class="fc-title" style="color:var(--orange)">A4: FACTORY CCTV</div>
          <div class="fc-desc">OEM data access on electric buses; ambiguous cross-border flows to foreign vendors</div>
        </div>
      </div>

      <!-- Three-tier -->
      <div class="sub-label" style="color:var(--green)">THREE-TIER FRAMEWORK</div>
      <div class="tier-stack">
        <div class="tier-block tier-1">
          <div class="tier-num">TIER 1</div>
          <div class="tier-title">Ephemeral Edge Processing</div>
          <div class="tier-desc">
            Biometric-adjacent representations (ReID embeddings, pose sequences) never leave the edge 
            device. Hard TTL enforced from track initiation ‚Äî embeddings destroyed after counting 
            decision, not retained for the route. Cryptographic erasure when secure wiping is infeasible.
          </div>
          <div class="tier-tag">DPA-K Sec. 25(d),(g) ¬∑ Sec. 39 ¬∑ Sec. 41‚Äì42</div>
        </div>
        <div class="tier-connector">‚ñº</div>
        <div class="tier-block tier-2">
          <div class="tier-num">TIER 2</div>
          <div class="tier-title">Count-Only Output Contract</div>
          <div class="tier-desc">
            API restricted to the minimal tuple: <code style="font-family:'JetBrains Mono',monospace; font-size:0.85rem; color:var(--green); background:var(--green-glow); padding:2px 6px; border-radius:3px;">{timestamp, stop_id, direction, count}</code>. 
            No embeddings, bounding boxes, or track IDs cross the boundary. Laplacian noise added for low-n stops.
          </div>
          <div class="blocked-badge">‚úï BLOCKED: No embeddings ¬∑ No bboxes ¬∑ No track IDs</div>
          <div class="tier-tag">DPA-K Sec. 25(b)‚Äì(d),(h) ¬∑ Sec. 48 ¬∑ Sec. 49(1)</div>
        </div>
        <div class="tier-connector">‚ñº</div>
        <div class="tier-block tier-3">
          <div class="tier-num">TIER 3</div>
          <div class="tier-title">Regulatory Alignment</div>
          <div class="tier-desc">
            Each technical control mapped to specific DPA provisions (Kenya Act No. 24/2019, Rwanda Law No. 058/2021). 
            DPIA conducted. Breach protocol established. No cross-border transfer of biometric-adjacent data. 
            Precedent: <em>Katiba Institute v. Worldcoin</em> ‚Äî absence of DPIA independently invalidates biometric processing.
          </div>
          <div class="tier-tag">DPA-K Sec. 31 ¬∑ Sec. 43 ¬∑ Sec. 24(1)(b)</div>
        </div>
      </div>

      <!-- Pipeline with TTL -->
      <div class="sub-label" style="color:var(--green)">PIPELINE DATA FLOW</div>
      <div class="pipeline-flow">
        <div class="pipe-node">Camera</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node">YOLO<br>Detect</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-red">ReID<br>Embed</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-red">Pose<br>Estimate</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node">Track &<br>Count</div>
        <div class="pipe-arrow">‚Üí</div>
        <div class="pipe-node hl-green">Count<br>only</div>
      </div>
      <div class="ttl-markers">
        <span class="ttl-tag">‚úï TTL expiry ‚Äî embeddings destroyed</span>
        <span class="ttl-tag">‚úï TTL expiry ‚Äî keypoints destroyed</span>
      </div>

      <p class="section-link" style="margin-top:20px;">
        More details are in the <a href="privacy.html" style="color:var(--green)">Privacy-by-Architecture Project Page</a> 
        including an opinion paper.
      </p>
    </div>
  </div>
</div>
  
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--        03 ‚Äî 3D COUNTING             -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="flow-connector"><div class="flow-arrow"></div></div>

<div class="section-anchor" id="digitaltwin"></div>
<div class="section-wrap fade-in">
  <div class="card">
    <div class="card-header">
      <span class="step-badge purple">PROJECT 03</span>
      <h2>3D Counting Pipeline</h2>
    </div>
    <div class="card-body">
      <p class="section-intro">
        Addresses the fundamental parallax problem: a high-angle camera makes heads appear 
        "inside" while bodies are still at the door. By projecting detections into a 
        geometrically accurate virtual bus and counting at an interior 3D plane, we eliminate 
        perspective-induced false positives.
      </p>

      <!-- 5-stage pipeline diagram -->
      <div class="arch-diagram">
        <svg viewBox="0 0 800 280" width="100%" style="max-width:800px">
          <defs>
            <marker id="arrowPurple" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
              <polygon points="0 0, 8 3, 0 6" fill="#a78bfa"/>
            </marker>
          </defs>
          <g>
            <rect x="10" y="30" width="120" height="70" rx="6" fill="rgba(56,189,248,0.06)" stroke="#38bdf8" stroke-width="1.2"/>
            <text x="70" y="56" fill="#38bdf8" font-family="JetBrains Mono" font-size="11" text-anchor="middle" font-weight="600">DETECT</text>
            <text x="70" y="73" fill="#a0b4cc" font-family="JetBrains Mono" font-size="9" text-anchor="middle">YOLO + Head</text>
            <text x="70" y="88" fill="#a0b4cc" font-family="JetBrains Mono" font-size="9" text-anchor="middle">4/5 found</text>

            <line x1="135" y1="65" x2="165" y2="65" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#arrowPurple)"/>

            <rect x="170" y="30" width="120" height="70" rx="6" fill="rgba(248,113,113,0.06)" stroke="#f87171" stroke-width="1.2"/>
            <text x="230" y="56" fill="#f87171" font-family="JetBrains Mono" font-size="11" text-anchor="middle" font-weight="600">HEATMAP</text>
            <text x="230" y="73" fill="#a0b4cc" font-family="JetBrains Mono" font-size="9" text-anchor="middle">Density peaks</text>
            <text x="230" y="88" fill="#34d399" font-family="JetBrains Mono" font-size="9" text-anchor="middle">5/5 recovered</text>

            <line x1="295" y1="65" x2="325" y2="65" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#arrowPurple)"/>

            <rect x="330" y="30" width="120" height="70" rx="6" fill="rgba(167,139,250,0.06)" stroke="#a78bfa" stroke-width="1.2"/>
            <text x="390" y="56" fill="#a78bfa" font-family="JetBrains Mono" font-size="11" text-anchor="middle" font-weight="600">HOMOGRAPHY</text>
            <text x="390" y="73" fill="#a0b4cc" font-family="JetBrains Mono" font-size="9" text-anchor="middle">Side ‚Üí Top-down</text>
            <text x="390" y="88" fill="#a0b4cc" font-family="JetBrains Mono" font-size="9" text-anchor="middle">2.55m √ó 1.2m door</text>

            <line x1="455" y1="65" x2="485" y2="65" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#arrowPurple)"/>

            <rect x="490" y="30" width="120" height="70" rx="6" fill="rgba(56,189,248,0.08)" stroke="#38bdf8" stroke-width="1.5"/>
            <text x="550" y="56" fill="#38bdf8" font-family="JetBrains Mono" font-size="11" text-anchor="middle" font-weight="600">3D PLANE</text>
            <text x="550" y="73" fill="#a0b4cc" font-family="JetBrains Mono" font-size="9" text-anchor="middle">@ Interior pole</text>
            <text x="550" y="88" fill="#fbbf24" font-family="JetBrains Mono" font-size="9" text-anchor="middle">STOP knob anchor</text>

            <line x1="615" y1="65" x2="645" y2="65" stroke="#a78bfa" stroke-width="1.2" marker-end="url(#arrowPurple)"/>

            <rect x="650" y="30" width="120" height="70" rx="6" fill="rgba(52,211,153,0.08)" stroke="#34d399" stroke-width="1.5"/>
            <text x="710" y="56" fill="#34d399" font-family="JetBrains Mono" font-size="11" text-anchor="middle" font-weight="600">BoTSORT</text>
            <text x="710" y="73" fill="#34d399" font-family="JetBrains Mono" font-size="9" text-anchor="middle">Vector crossing</text>
            <text x="710" y="90" fill="#34d399" font-family="JetBrains Mono" font-size="12" text-anchor="middle" font-weight="700">IN: +5</text>
          </g>

          <!-- Key insight -->
          <rect x="440" y="130" width="340" height="60" rx="6" fill="rgba(56,189,248,0.04)" stroke="rgba(56,189,248,0.2)" stroke-width="1" stroke-dasharray="4 3"/>
          <text x="460" y="152" fill="#38bdf8" font-family="JetBrains Mono" font-size="9.5" font-weight="600">KEY INSIGHT</text>
          <text x="460" y="168" fill="#a0b4cc" font-family="DM Sans" font-size="10">Counting plane positioned at interior pole (NOT door</text>
          <text x="460" y="182" fill="#a0b4cc" font-family="DM Sans" font-size="10">threshold) eliminates parallax-induced false positives.</text>

          <!-- Parallax illustration -->
          <g transform="translate(60,130)">
            <rect x="0" y="0" width="310" height="110" rx="6" fill="rgba(248,113,113,0.03)" stroke="rgba(248,113,113,0.15)" stroke-width="1"/>
            <text x="10" y="20" fill="#f87171" font-family="JetBrains Mono" font-size="9" font-weight="600">THE PARALLAX PROBLEM</text>
            <rect x="20" y="32" width="270" height="55" rx="4" fill="none" stroke="#243352" stroke-width="0.8"/>
            <text x="30" y="46" fill="#5e7a9a" font-family="JetBrains Mono" font-size="7">INSIDE</text>
            <text x="250" y="46" fill="#5e7a9a" font-family="JetBrains Mono" font-size="7">DOOR</text>
            <rect x="260" y="42" width="4" height="35" fill="rgba(251,191,36,0.4)" rx="1"/>
            <line x1="250" y1="32" x2="250" y2="87" stroke="#f87171" stroke-width="1.2" stroke-dasharray="3 2"/>
            <text x="250" y="100" fill="#f87171" font-family="JetBrains Mono" font-size="7" text-anchor="middle">‚úó WRONG</text>
            <line x1="130" y1="32" x2="130" y2="87" stroke="#38bdf8" stroke-width="1.5"/>
            <text x="130" y="100" fill="#38bdf8" font-family="JetBrains Mono" font-size="7" text-anchor="middle">‚úì CORRECT</text>
            <line x1="130" y1="32" x2="130" y2="87" stroke="#a78bfa" stroke-width="2.5" opacity="0.3"/>
            <circle cx="130" cy="52" r="3" fill="#a78bfa"/>
            <circle cx="210" cy="50" r="6" fill="rgba(248,113,113,0.3)" stroke="#f87171" stroke-width="0.8"/>
            <ellipse cx="230" cy="67" rx="10" ry="14" fill="rgba(248,113,113,0.2)" stroke="#f87171" stroke-width="0.8"/>
            <text x="210" y="42" fill="#f87171" font-family="JetBrains Mono" font-size="7">Head appears inside!</text>
          </g>
        </svg>
      </div>

      <p class="section-link">
        The interactive pipeline walkthrough and annotated camera frames are available in the 
        <a href="digital_twin.html" style="color:var(--purple)">3D Counting Project Page</a> ‚Äî 
        showing the system in action on live Nairobi bus footage.
      </p>
    </div>
  </div>
</div>




<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<!--        04 ‚Äî DRIVER BEHAVIOUR           -->
<!-- ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê -->
<div class="flow-connector"><div class="flow-arrow"></div></div>

<div class="section-anchor" id="driver"></div>
<div class="section-wrap fade-in">
  <div class="card">
    <div class="card-header">
      <span class="step-badge orange">PROJECT 04</span>
      <h2>Driver Behaviour Analysis via AnomalyClip</h2>
    </div>
    <div class="card-body">
      <p class="section-intro">
        Extending transit analytics beyond passenger counting to driver behaviour monitoring. 
        Using dashcam footage, driver-facing footage, telematics data and vision-language models to detect and recognize anomalous driving patterns ‚Äî 
        phone use, distracted driving.
      </p>

      <div class="placeholder-box">
        <div class="ph-icon">üöß</div>
        <div class="ph-text">
          This project is under active development ‚Äî supervised undergraduate research (Spring 2026).<br>
          Architecture details, evaluation metrics, and deployment strategy will be added here.
        </div>
        <div style="margin-top:16px; display:flex; gap:6px; justify-content:center; flex-wrap:wrap;">
          <span class="pill">AnomalyClip</span>
          <span class="pill">DASHCAM</span>
          <span class="pill">ZERO-SHOT</span>
          <span class="pill">VISION-LANGUAGE</span>
          <span class="pill warn">Video Anomaly Recognition(VAR)</span>
          
        </div>
      </div>

      <div class="feature-grid">
        <div class="feature-card">
          <div class="fc-icon">üé•</div>
          <div class="fc-title">DASHCAM INPUT</div>
          <div class="fc-desc">Leverages the same onboard camera infrastructure used for passenger counting ‚Äî no additional hardware needed.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">üß†</div>
          <div class="fc-title">ANOMALYCLIP</div>
          <div class="fc-desc">Vision-language anomaly detection using text prompts. Zero-shot transfer to new anomaly types without retraining.</div>
        </div>
        <div class="feature-card">
          <div class="fc-icon">üìä</div>
          <div class="fc-title">SAFETY SCORING</div>
          <div class="fc-desc">Per-trip driver safety scores integrated with fleet management dashboards for route operators.</div>
        </div>
      </div>
      <p class="section-link">
        More details are provided in the  
        <a href="driver.html" style="color:var(--purple)">Driver Behaviour Analysis Page</a>.
      </p>
    </div>
  </div>
</div>


<!-- ‚ïê‚ïê‚ïê FOOTER ‚ïê‚ïê‚ïê -->
<footer class="footer">
  <p style="margin-bottom:6px;">Vision-Based Transit Analytics Research</p>
  <p>Nairobi ¬∑ Kigali ¬∑ 2024‚Äì2026</p>
</footer>


<script>
function goToSection(id) {
  const el = document.getElementById(id);
  if (el) {
    const y = el.getBoundingClientRect().top + window.pageYOffset - 60;
    window.scrollTo({ top: y, behavior: 'smooth' });
  }
}

// ‚îÄ‚îÄ‚îÄ Nav highlighting ‚îÄ‚îÄ‚îÄ
const navBtns = document.querySelectorAll('.stage-btn:not(.home-btn)');
const sections = document.querySelectorAll('.section-anchor');

const navObserver = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) {
      const id = e.target.id;
      navBtns.forEach(b => {
        const onclick = b.getAttribute('onclick') || '';
        b.classList.toggle('active', onclick.includes(id));
      });
    }
  });
}, { threshold: 0.1, rootMargin: '-80px 0px -50% 0px' });

sections.forEach(s => navObserver.observe(s));

// ‚îÄ‚îÄ‚îÄ Scroll reveal ‚îÄ‚îÄ‚îÄ
const fadeEls = document.querySelectorAll('.fade-in');
const fadeObserver = new IntersectionObserver((entries) => {
  entries.forEach(e => {
    if (e.isIntersecting) e.target.classList.add('visible');
  });
}, { threshold: 0.08, rootMargin: '0px 0px -30px 0px' });

fadeEls.forEach(el => fadeObserver.observe(el));
</script>

</body>
</html>
